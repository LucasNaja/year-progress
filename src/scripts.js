const year=document.querySelector('#year'),workDay=document.querySelector('#workDay'),dayName=document.querySelector('#dayName'),month=document.querySelector('#month'),day=document.querySelector('#day'),progressBar=document.querySelectorAll('.progressBarValue');function updateProgress(){const a=new Date,b=[31,28+(0==a.getFullYear()%4||0==a.getFullYear()%400&&0!=a.getFullYear()%100?1:0),31,30,31,30,31,31,30,31,30,31],c=(()=>{let d=0;b.forEach((f,g)=>{d+=g<a.getMonth()?f:g===a.getMonth()?a.getDate():0}),d--,d+=(a.getHours()+a.getMinutes()/60+a.getSeconds()/3600)/24;const e=0==a.getFullYear()%4||0==a.getFullYear()%400&&0!=a.getFullYear()%100?366:365;return 100*(d/e)})();0===c&&alert('Feliz ano novo!'),year.textContent=`${change(c)}%`,year.setAttribute('title',`${c}%`),progressBar[0].style.width=`${c}%`,monthProgress=(()=>{let d=a.getDate()-1;return d+=(a.getHours()+a.getMinutes()/60+a.getSeconds()/3600)/24,100*(d/b[a.getMonth()])})(),month.textContent=`${change(monthProgress)}%`,month.setAttribute('title',`${monthProgress}%`),progressBar[1].style.width=`${monthProgress}%`,dayProgress=100*((a.getHours()+a.getMinutes()/60+a.getSeconds()/3600)/24),day.textContent=`${change(dayProgress)}%`,day.setAttribute('title',`${dayProgress}%`),progressBar[2].style.width=`${dayProgress}%`,workDayProgress=(()=>{let d=0;return 6>a.getHours()?dayName.textContent='Madrugada':12>a.getHours()?(dayName.textContent='Manh\xE3',d=6):18>a.getHours()?(dayName.textContent='Tarde',d=12):(dayName.textContent='Noite',d=18),100*((a.getHours()-d+a.getMinutes()/60+a.getSeconds()/3600)/6)})(),workDay.textContent=`${change(workDayProgress)}%`,workDay.setAttribute('title',`${workDayProgress}%`),progressBar[3].style.width=`${workDayProgress}%`}function change(a=Number){return`${Math.floor(a)}.${a.toString().includes('.')?a.toString().split('.')[1][0]:0}`}window.onload=function(){document.querySelector('.lds-ring').style.display='none',document.querySelector('.progressContainer').style.display='block',setInterval(updateProgress,1)};